<h6> Version 0.1.1-21</h6>
<h3 align=center> Ubidots Vanilla Javascript Async Fetch Form Post by @Rocksetta<h3>


<script>
      const asyncPostCall = async () => {
            try {
                const response = await fetch('https://industrial.api.ubidots.com/api/v2.0/devices/', {
                 method: 'POST',
                 headers: {      
                       'accept': 'application/json',
                       'content-type': 'application/json',
                       'x-auth-token' : document.getElementById('myAuthenticate').value
                 //   'token': document.getElementById('myAuthenticate').value
                   },
                   body: JSON.stringify({
                    // your expected POST request payload goes here
                   // 'token': document.getElementById('myAuthenticate').value,
                     'temp':'223', 
                     'label' : document.getElementById('myDevice').value  
                    })
                 });
                 //     body: JSON.stringify({a: 1, b: 'Textual content'}) 
                 const data = await response.json();
              // enter your logic when the fetch is successful
                 console.log("data");
                 console.log(data);
                 document.getElementById('myDiv01').innerHTML = await   JSON.stringify(data, null, '<br>')
               } catch(error) {
             // enter your logic for when there is an error (ex. error toast)

                  console.log(error)
                 } 
            }


  
</script>



Authentication: <input id="myAuthenticate" type=text value="authenticate" ><br>
New Device: <input id="myDevice" type=text value="Portenta8" ><br>
<input type=button value="Ubidots-fetch-post" onclick="{
   asyncPostCall()                                       
 }">

<div id="myDiv01">...</div>
