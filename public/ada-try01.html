<h3 align=center>Web page Async control of an Arduino Nano 33 IoT</h3>

<body onload="{
   myStorage1 = localStorage.getItem('myStoredText1')
   if(myStorage1  != null){     
      document.getElementById('myURL').value = myStorage1 
    }  
   document.getElementById('myFrame01').src = document.getElementById('myURL').value    
              
   mySendToArduino = async function (myData) {   // pre-loads this function
     const myResponse =  await fetch(document.getElementById('myURL').value, {mode: 'no-cors'}, 'body': myData)
     await console.log(myData)
     document.getElementById('myFrame01').src = document.getElementById('myURL').value;
  }
   
}">

<input type="button" value="Store the Arduinos URL locally" onClick="{
   localStorage.setItem('myStoredText1', document.getElementById('myURL').value)   
   alert('Device URL =' + document.getElementById('myURL').value + ' Has been stored')
}">

<input type=text id="myURL" value="" placeholder="https://io.adafruit.com/api/v2/webhooks/feed/FQVFKZH3xwj3djEcxwpgQetD4mBi"><br>


<!-- You work with the following buttons -->

<input type=button value="34" onclick="{
   mySendToArduino('34')
}">

<input type=button value="{'value':'3'}" onclick="{
  mySendToArduino('{\'value\':\'3\'}')
}">


<input type=button value="Reload Data" onclick="{
   document.getElementById('myFrame01').src = document.getElementById('myURL').value;
}">
<iframe id="myFrame01" width="100%" Height="300"></iframe>
